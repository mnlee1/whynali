# 댓글 작성자 표시 정책

댓글·토론 댓글 작성자를 화면에 어떻게 표시할지(실명/닉네임/익명)와 대한민국 법령과의 관계를 정리한 문서. 02_AI기획_판단포인트, 04_서비스노출_법적검토, 99_오픈ID_키발급_순서 등과 연동해 참고한다.

---

## 1. 문서 내 정책 현황

### 1.1 기존 문서에 있는 내용

- **02_AI기획_판단포인트.md §6.4**: 댓글 표시·정렬·세이프티봇·참여 정책(로그인 필수). **작성자를 실명/닉네임/익명 중 무엇으로 표시할지**에 대한 문단은 없음.
- **99_오픈ID_키발급_순서.md**: OAuth 동의 목적에서 "댓글·화면에서 누가 로그인했는지 표시", "로그인한 사용자 표시(헤더·댓글 등)"에 이름/닉네임 사용한다는 **전제**만 있음. 실명 노출 의무·금지 또는 익명 표시 원칙은 미기재.
- **04_서비스노출_법적검토.md §8**: UGC 금지 행위에 "개인정보 무단 게시" 포함. 이는 **댓글 본문**에 타인 개인정보를 올리지 말라는 의미이며, **작성자**를 이름/닉네임으로 노출하는 것을 규율하는 조항은 아님.
- **닉네임 수집 안 함(02, 03, 04, 99_법적이슈없음증명)**: **외부 수집**(더쿠·네이트판 등)에 대한 것. 서비스 내 댓글 작성자 표시와는 별개.

### 1.2 정리

| 항목 | 문서 상태 |
|------|-----------|
| 작성자 실명 노출 의무 | 명시된 정책 없음 |
| 작성자 익명(마스킹) 표시 의무 | 명시된 정책 없음 |
| OAuth 이름/닉네임 표시 | "회원 식별 및 표시"용 사용 전제만 있음 |

---

## 2. 대한민국 법령 관점

### 2.1 작성자 실명 노출 의무

- **민간 서비스**: 2012년 헌법재판소 결정으로 정보통신망법상 **민간** 정보통신서비스 제공자에 대한 본인확인제(게시 전 실명 확인) 규정이 위헌으로 삭제됨.
- 그에 따라 **민간** 사이트에 "댓글 작성자를 반드시 실명으로 노출해야 한다"는 **법적 의무는 없음**.
- **공공기관**: 국가기관·지방자치단체·공공기관 등이 운영하는 게시판에 한해 정보통신망법 제44조의5에 따른 본인 확인 관련 의무가 있음. 왜난리는 민간 서비스이므로 해당 없음.

### 2.2 익명·닉네임 표시

- 법상 "댓글 작성자를 실명으로만 표시해야 한다"는 의무가 없으므로, **닉네임·ID·익명 표기(예: 사용자 …4309)**만 사용하는 것도 현재 법체계상 금지되는 것으로 보이지 않음.
- 작성자 표시 방식(실명/닉네임/익명)은 **서비스 정책**으로 선택 가능한 영역으로 이해됨.

### 2.3 삭제·임시조치 및 작성자 식별 정보

- **정보통신망법 제44조의2** 등: 권리침해(명예훼손 등) 신고 시 해당 정보의 삭제·임시조치, 신청인 및 **정보게재자(작성자)**에 대한 통지 의무.
- "정보게재자에게 통지"를 수행하려면 **작성자를 내부적으로 식별할 수 있는 정보**(계정 ID, 연락처 등)를 **일정 기간 보관**하는 것이 실무상 필요함.
- 이는 **화면에 작성자를 어떻게 노출할지**에 대한 의무가 아니라, **삭제·통지 절차를 위한 내부 식별 정보 보관**에 해당. 현재 구조(comments.user_id → users.id, users.display_name 등)로 작성자 식별이 가능하면 이 요건을 충족하는 데 무리가 없음.

### 2.4 실명(이름)·닉네임과 개인정보보호법

- **이름(실명)·닉네임은 개인정보**에 해당할 수 있음. 이를 **댓글 작성자명으로 다른 이용자에게 노출**하는 것은 "이용"에 해당하며, 개인정보보호법상 **수집·이용 목적 범위 안**이어야 함(제15조, 제18조 목적 외 이용·제공 제한).
- **허용되는 경우**: (1) **수집·이용 목적**을 "댓글·화면에서 회원 식별 및 표시", "로그인한 사용자 표시(헤더·댓글 등)"처럼 **댓글 작성자명 표시를 포함**하도록 하고, (2) **동의 시** "이름/닉네임이 댓글·토론 글 옆 작성자명으로 **다른 이용자에게 표시**됩니다"를 명시하면, 그 범위 내 이용으로 볼 수 있음. OAuth 동의 화면에서 IdP가 안내하는 용도(예: 회원 식별 및 표시)와 서비스 측 **개인정보처리방침**에서 "댓글·토론 작성자명 표시"를 같이 밝혀 두는 것이 필요.
- **정리**: 실명이 개인정보라서 "노출하면 안 된다"가 아니라, **동의받은 목적(댓글 작성자 표시) 범위 내**라면 노출 가능. 목적 고지와 동의가 전제.

### 2.5 요약

| 구분 | 내용 |
|------|------|
| 실명 노출 의무 | 민간 서비스에는 없음. 공공기관 게시판만 해당. |
| 닉네임/익명 표시 | 법상 금지 규정 없음. 서비스 정책으로 선택 가능. |
| 작성자 식별 정보 | 삭제·임시조치·통지를 위해 내부적으로 작성자 식별 가능한 정보 보관은 실무상 유지 권장. |
| 실명(이름) 개인정보 노출 | 동의 목적에 "댓글 작성자명 표시"를 포함하고, 동의·처리방침에 "다른 이용자에게 표시됨"을 명시하면 목적 범위 내 이용으로 가능. |

### 2.6 익명 표시 시 뒷자리 ** 처리(법적 관점)

- display_name이 없을 때 "사용자 …(user_id 마지막 4자리)" 대신 **"사용자 …****"**처럼 뒷자리 4자리를 **로만 표기해도 **법적 이슈 없음**.
- **이유**: (1) 민간 서비스에는 작성자 실명·식별자 노출 의무가 없음. (2) **정보통신망법** 삭제·통지 의무는 "화면에 무엇을 보여주는지"가 아니라 **내부적으로 작성자를 식별할 수 있는지**에 달려 있음. user_id는 DB에 그대로 두므로 삭제·정보게재자 통지 가능. (3) **개인정보보호법** 측면에서는 **** 처리 시 화면에 개인정보가 더 적게 노출되므로 오히려 유리함. (4) 저작권·명예훼손 대응도 내부 식별 가능 여부로 판단되며, 공개 화면에 ****를 쓰는 것은 방해되지 않음.
- **정리**: 뒷자리 ** 표기는 익명성을 더 높이는 선택이며, 법적 문제는 없음.

---

## 3. 왜난리 적용 방향 (판단 포인트)

### 3.1 현재 구현

- 댓글·토론 댓글 목록에서 작성자 표시: **users.display_name**이 있으면 표시, 없으면 **"사용자 …(user_id 마지막 4자리)"**로 익명 표기.
- display_name은 OAuth(구글·네이버·카카오)에서 제공하는 이름/닉네임을 ensure-user 단계에서 users 테이블에 저장한 값.

### 3.2 선택지

- **A. 현재 방식 유지**: OAuth에서 받은 이름/닉네임(display_name) 있으면 표시, 없으면 익명(사용자 …xxxx). 법적 문제 없음. OAuth 동의 목적("회원 식별 및 표시")과도 부합.
- **B. 전부 익명**: 모든 댓글 작성자를 "사용자 …xxxx" 등으로만 표시. 법적 문제 없음. 다만 OAuth에서 이름/닉네임을 받는 동의 목적과는 "표시하지 않음" 선택이 됨.
- **C. 전부 실명/닉네임**: display_name이 비어 있으면 댓글 작성 불가 또는 별도 입력 유도 등 정책 보강 필요. 법적 실명 노출 의무는 없으므로 선택 사항.

### 3.3 권장

- **현재 방식(A) 유지**를 기본으로 두고, 추후 서비스 성격(논쟁 이슈·토론)에 따라 **전부 익명(B)**으로 정책을 바꿀 경우 02_AI기획_판단포인트 또는 본 문서에 "댓글 작성자 표시: 익명만 사용"으로 명시하면 됨.
- 정책을 바꿀 때는 OAuth 동의 항목(이름/닉네임)을 "표시용 미사용"으로 조정할지 함께 검토.

### 3.4 닉네임 우선 표시(실명 부담 완화)

- 실명 대신 **닉네임만** 작성자명으로 쓰면 이용자 부담을 줄일 수 있음. 다만 **구글·네이버·카카오가 모두 닉네임을 주는 것은 아님.**

**제공자별 닉네임 제공 현황(현재 왜난리 기준):**

| 제공자 | 닉네임 제공 | 비고 |
|--------|-------------|------|
| **카카오** | 예 | `profile_nickname` 스코프 요청 중(`app/login/page.tsx`). 동의 시 닉네임 수신. |
| **네이버** | 선택 | "닉네임(별명)"이 **추가(선택)** 항목. 동의하면 받을 수 있음, 미동의 시 이름만 올 수 있음. |
| **구글** | 사실상 없음 | 기본 프로필에 **name, given_name, family_name** 등만 제공. OIDC 스펙상 `nickname` 클레임은 있으나 구글 userinfo에서 별도 닉네임을 채워 주는 경우는 드묾. → 구글 로그인 사용자는 보통 **이름(실명에 가까운 값)**만 옴. |

**닉네임만 쓰는 방향일 때:**

- **표시 우선순위를 닉네임 우선으로 변경** 가능: `toDisplayName`에서 `m.nickname ?? m.name ?? ...` 처럼 **nickname을 맨 앞**에 두면, 카카오·네이버(닉네임 동의 시)는 닉네임이 표시되고, 구글은 nickname이 없으면 name이 그대로 쓰임(실명).
- **진짜 "닉네임만" 표시**하려면: (1) 닉네임이 있을 때만 그걸 표시하고, **닉네임 없으면 "사용자 …xxxx"**로만 표시하면 됨. 이렇게 하면 구글 사용자 대부분은 익명 처리됨. (2) 또는 서비스 내 **닉네임 직접 설정** 기능을 두면, 구글 사용자도 닉네임을 입력해 표시할 수 있음(현재 구조에는 없음).

### 3.5 작성자 표시 확정안(판단 기준·권장)

**뭘로 노출할지 한 줄 요약:**  
OAuth에서 받은 **닉네임 또는 이름**만 작성자명으로 쓰고, 없으면 **"사용자 …(user_id 뒷4자리)"**로 익명 표시(서로 구분 가능). **이메일은 작성자명으로 노출하지 않음.**

| 구분 | 내용 |
|------|------|
| **표시 우선순위** | (1) 닉네임 (2) 이름 (3) 둘 다 없으면 익명 "사용자 …(user_id 뒷4자리)". **이메일은 (1)(2)(3) 어디에도 사용하지 않음.** |
| **익명 표기** | "사용자 …(user_id 마지막 4자리)". 서로 구분 가능하도록 뒷4자리 노출. (§2.6에서 ****도 허용이었으므로 뒷4자리 노출도 법적 이슈 없음.) |
| **이유** | 실명 부담 완화(닉네임 우선), 개인정보 최소화(이메일 미노출). 익명이라도 **댓글마다 누가 썼는지 구분**되도록 뒷4자리 사용. |

**제공자별 예상 표시:**

| 로그인 | 닉네임 있음 | 이름만 있음 | 둘 다 없음 |
|--------|-------------|-------------|------------|
| 카카오 | 닉네임 | (카카오는 보통 닉네임 제공) | 사용자 …(뒷4자리) |
| 네이버 | 닉네임 | 이름(실명) | 사용자 …(뒷4자리) |
| 구글 | (구글은 닉네임 거의 없음) | 이름(실명) | 사용자 …(뒷4자리) |

**구현 체크:** (1) `toDisplayName`에서 **user.email 제거** → 이름/닉네임 없으면 null. (2) UI에서 display_name 없으면 **"사용자 …(user_id.slice(-4))"** 사용 → 같은 사람은 항상 같은 뒷4자리로 구분 가능.

**전부 익명(****만 쓰기)**으로 하면 구분이 안 되므로, 익명일 때는 **뒷4자리 노출**로 두는 것을 권장. 법적 이슈 없음(§2.6).

---

## 4. 오픈ID(제공자 식별자)를 작성자명으로 노출하는 것에 대한 검토

### 4.1 구분

- **오픈ID/제공자 식별자**: 구글·네이버·카카오 등 IdP가 부여한 **기술용 식별자**(Google `sub`, 네이버 애플리케이션당 일련번호, 카카오 id 등). 계정 식별·API 호출용.
- **이름 vs 닉네임(문서·동의 항목에서)**: **이름** = IdP가 제공하는 "이름" 필드(네이버 이름, 구글 name 등) → 보통 **실명**. **닉네임** = IdP가 제공하는 "닉네임/별명" 필드(카카오 profile_nickname, 네이버 닉네임 등) → **오픈ID에서 받아온 닉네임**. 왜난리에서는 둘 중 제공되는 값을 users.display_name으로 저장해 작성자 표시에 사용.
- **현재 왜난리에서 노출하는 값**: 작성자 표시에는 **users.display_name**(OAuth에서 받은 이름/닉네임) 또는 **"사용자 …(user_id 마지막 4자리)"** 사용. 여기서 `user_id`는 **Supabase Auth가 부여한 내부 UUID**(auth.users.id)이며, IdP의 raw OpenID(sub/provider_id)가 아님.

### 4.2 제공자 약관·정책

- **구글(Google API Services User Data Policy)**: "실명·닉네임 대신 sub를 작성자명으로 노출해도 된다/안 된다"는 **명시 조항 없음**. 다만 (1) 수집·이용 목적을 투명히 고지하고, (2) 필요한 최소 범위만 사용하라고 함. 기술용 식별자(sub)를 **타 이용자에게 작성자명으로 공개**하는 용도는, 표시 목적이라면 프로필(이름·닉네임) 스코프와 별개로 **노출 용도를 개인정보처리방침에 밝혀 두는 것**이 안전함. 실무적으로는 **표시용으로는 프로필(이름/닉네임) 사용, sub는 내부 식별용만 사용**이 일반적.
- **네이버**: 프로필 API 명세상 **네이버 아이디값은 제공하지 않고**, 앱당 유니크한 **일련번호(id)**를 제공. 이 id는 "자체적으로 회원정보를 구성"하기 위한 용도로 안내됨. 이를 **다른 이용자에게 작성자명으로 노출**하는 용도는 명시되지 않았으며, 최소 이용 원칙상 **표시용으로는 이름/닉네임 사용**이 맞음.
- **카카오**: 개인정보 암호화·토큰 보안 등 보안 권장사항 위주. 식별자를 "작성자명으로 타인에게 노출해도 된다"는 문구는 없음. 표시 목적이면 프로필(닉네임 등) 사용이 자연스러움.

### 4.3 OpenID Connect 관점

- `sub`는 **발행자(Issuer) 내 사용자 식별용**으로 정의됨. Pairwise 식별자를 쓰는 경우 앱 간 연계 방지 등 프라이버시 목적이 있음. **타인에게 노출할 "표시명"으로 쓰라고 정의된 값이 아님.**

### 4.4 결론 및 권장

| 항목 | 내용 |
|------|------|
| **금지 여부** | 구글·네이버·카카오 약관에 "오픈ID를 작성자명으로 노출하면 안 된다"는 **문구는 확인되지 않음**. |
| **권장** | **오픈ID(제공자 식별자)를 작성자명으로 노출하지 않는 것**을 권장. 작성자 표시는 (1) **이름/닉네임(display_name)** 또는 (2) **내부 ID 마스킹(예: 사용자 …xxxx)**만 사용. |
| **이유** | (1) IdP 정책이 "최소 필요 범위"·"표시 목적에는 프로필 사용" 방향이고, (2) sub/id는 기술용 식별자로 표시용으로 설계된 값이 아니며, (3) 노출 시 개인정보처리방침에 용도를 명시해야 할 수 있고, (4) UX상 의미 없는 숫자/문자열 노출은 부적절함. |
| **현재 구현** | **이미 권장 방식**: display_name 또는 Supabase user.id 마지막 4자리만 사용. **IdP의 raw OpenID는 작성자명으로 노출하지 않음.** |

---

## 5. 참조 문서

- [02_AI기획_판단포인트.md](./02_AI기획_판단포인트.md): §6.4 댓글·세이프티, §6.6 세이프티봇
- [04_서비스노출_법적검토.md](./04_서비스노출_법적검토.md): §8 UGC·금지 행위·신고 절차
- [99_오픈ID_키발급_순서.md](./99_오픈ID_키발급_순서.md): 동의 목적(회원 식별 및 표시, 헤더·댓글 등)
- [07_이슈등록_화력_정렬_규격.md](./07_이슈등록_화력_정렬_규격.md): §4 댓글 점수·베스트 정렬

---

**작성일**: 2026-02-20  
**용도**: 댓글 작성자 표시 방식(실명/닉네임/익명) 정책, 법령, 오픈ID 노출 검토. 정책 변경 시 본 문서와 02·04를 함께 갱신할 것.
