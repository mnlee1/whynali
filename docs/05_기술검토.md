# 기술 검토 (디자이너용)

기획·로드맵·법적검토 문서를 바탕으로, **구현 가능 여부·쓰는 도구·주의할 점**만 정리한 문서다. 법률 해석이 아니라 "만들 수 있는지, 뭘 쓰는지"만 다룬다.

---

## 한눈에 보기

| 보기 | 내용 |
|------|------|
| **결론** | 지금 기획대로면 2주 안에 MVP 만들 수 있다. 쓰기로 한 도구 그대로 쓴다. |
| **비용** | 서버·DB·배포는 무료 플랜으로 가능. "5만 건" 같은 숫자는 **건수 한도**일 뿐, 돈(원)이 아니다. 화력 분석에 경량 AI 쓰면 월 수천 원 이하. |
| **디자이너가 맞추면 좋은 것** | 화면은 **모바일 먼저**, 반응형. 비로그인은 이슈 보기만, 댓글·투표·감정은 로그인 후. 이슈 목록 정렬·댓글 베스트 순서는 07 규격 문서 따름. |
| **주의** | 네이버 뉴스·커뮤니티 수집 한도 있음. 한도 80% 되면 관리자에게 알림. 수집·노출은 법적검토(03·04) 지키기. |

---

## 용어 정리

디자이너가 문서·회의에서 자주 나오는 말을 쉽게 풀어 쓴 것이다.

| 용어 | 쉬운 설명 |
|------|-----------|
| **API** | 다른 서비스(예: 네이버 뉴스)가 정해진 형식으로 데이터를 넘겨주는 창구. 우리가 "이 키워드 뉴스 줘"라고 요청하면, 제목·링크·출처·날짜만 받아서 쓴다. |
| **Cron** | "몇 분마다 자동으로 한 번씩 실행"하게 만드는 스케줄. 뉴스는 30분마다, 커뮤니티는 3분마다 새 데이터를 가져온다. |
| **화력 / heat_index** | 이슈가 "얼마나 뜨겁게 떠오르고 있는지" 숫자로 만든 값(0~100). 커뮤니티 반응(난리 정도)과 뉴스 쪽 신뢰(여러 언론이 보도했는지)를 합쳐서 계산한다. 높을수록 "지금 난리"에 가깝다. |
| **메타데이터** | 글 "내용 본문"이 아니라, 제목·링크·조회수·댓글 수·날짜처럼 **정보 about 정보**. 우리는 본문을 저장·노출하지 않고 메타데이터만 쓴다(법적 검토 반영). |
| **MVP** | Minimum Viable Product. "처음 출시할 때 꼭 필요한 기능만 넣은 버전"이라는 뜻. 2주 안에 나오는 첫 버전이 MVP다. |
| **Next.js** | 웹 화면을 만드는 프레임워크(React 기반). 페이지 라우팅·레이아웃·서버/클라이언트 구분을 같이 해 준다. 디자이너는 "우리가 만드는 웹이 이걸로 돌아간다" 정도만 알면 된다. |
| **Supabase** | 로그인(구글·네이버·카카오), DB(이슈·댓글·수집 데이터 저장), API를 한꺼번에 제공하는 서비스. 우리 서비스의 "데이터·계정"이 여기 있다고 보면 된다. |
| **Vercel** | 만든 웹을 인터넷에 올려 주는 배포 서비스. GitHub에 코드 올리면 자동으로 반영된다. Next.js 만든 회사 제품이라 호환이 좋다. |
| **RLS (Row Level Security)** | DB에서 "이 사용자는 이 행만 볼 수 있다"처럼 **행 단위로 권한** 거는 기능. 비로그인은 이슈만 보기, 로그인한 사람만 댓글·투표 쓰기, 관리자만 승인·검토 하도록 나누는 데 쓴다. |
| **Edge Functions** | 서버를 따로 두지 않고, "이 주소 호출되면 이 코드 실행"하게 만드는 기능. Supabase에서 커뮤니티(더쿠·네이트판) 메타데이터 수집할 때 쓴다. |
| **Cheerio** | 웹페이지 HTML을 파싱해서 "제목은 여기, 조회수는 여기"처럼 필요한 값만 뽑는 라이브러리. 커뮤니티 수집 시 더쿠·네이트판 페이지에서 제목·URL·조회수·댓글 수·작성 시간만 추출할 때 쓴다. |
| **세이프티봇** | 사용자가 쓴 댓글·토론글이 **금칙어 목록**에 걸리면 자동으로 "검토 대기"로 두고, 관리자가 나중에 공개/삭제 결정하는 흐름. AI로 의미 분석하는 게 아니라, 정해진 단어만 매칭한다. |
| **sort_score** | 이슈 목록을 "한 번에 정렬"하기 위해 쓰는 합산 점수. 상태(점화·논란중·종결) + 최신성 + 화력을 하나의 숫자로 만들어서, 숫자 큰 순으로 목록을 세운다. |
| **스키마** | DB에 어떤 표(테이블)를 두고, 각 표에 어떤 칸(컬럼)이 있는지 정의한 설계도. "본문·수집 닉네임은 저장하지 않는다"는 규칙이 스키마에 반영된다. |
| **07 규격** | 이슈가 언제 목록에 올라오는지(5건 알람, 8건+6시간 무대응 시 자동 승인), 화력 어떻게 계산하는지, 이슈 목록·댓글 베스트 어떻게 정렬하는지 적어 둔 문서(07_이슈등록_화력_정렬_규격.md). 개발·디자인 모두 이걸 기준으로 맞춘다. |

---

## 1. 우리가 쓰기로 한 도구 (기술 스택)

| 역할 | 쓰는 것 | 디자이너가 알면 좋은 점 |
|------|---------|-------------------------|
| 화면 제작 | Next.js 14+ (App Router), React, Tailwind | 컴포넌트 단위로 화면 나누고, **모바일 퍼스트·반응형**으로 맞추면 된다. |
| 데이터·로그인 | Supabase (DB + Auth) | 이슈·댓글·수집 데이터·계정이 여기 모인다. 무료 플랜 "월 5만 건"은 **요청 횟수 한도**지, 요금이 아니다. |
| 배포 | Vercel | 코드 올리면 자동 배포. 무료 플랜은 팀원 초대 없음 → 배포는 한 계정, 코드 협업은 GitHub로 한다(99_Git협업). |
| 뉴스 수집 | 네이버 뉴스 API + 30분마다 자동 실행(Cron) | 제목·링크·출처·날짜만 저장·표시. 요약문은 저장·노출 안 함(법적 검토). |
| 커뮤니티 수집 | Supabase Edge Functions + Cheerio, 3분마다 | 더쿠·네이트판에서 제목·URL·조회수·댓글 수·작성 시간만 가져온다. 본문은 안 가져온다. |
| 화력 점수 | 경량 AI 또는 자체 계산식 | 메타데이터만 넣어서 0~100 점수 만든다. 결과는 **자동 반영**(관리자 승인 없음). |

**정리**: 위 조합 그대로 쓴다. 도구 교체 권고 없음.

---

## 2. 화면·권한에서 맞추면 좋은 것

- **비로그인**: 이슈 목록·상세·타임라인 **보기만** 가능. 댓글·감정·투표·토론은 로그인 유도.
- **로그인**: 구글·네이버·카카오로 로그인. 댓글·감정·투표·토론 참여 가능.
- **관리자**: 이슈/타임라인 추가·수정·삭제, 수집 데이터 확인·이슈 연결, 세이프티봇 검토(금칙어 걸린 글 공개/삭제). 화력은 자동 반영이라 별도 "화력 승인"은 기본 없음.
- **노출**: 제목+링크+메타데이터 기반 설명만. 기사·게시글 **본문**이나 **본문 기반 AI 요약**은 화면에 넣지 않는다(법적 검토).

---

## 3. 저장하는 것 / 저장 안 하는 것

| 저장함 | 저장 안 함 |
|--------|------------|
| 이슈, 타임라인, 댓글, 감정, 유저, 투표·선택지, 토론, 수집 뉴스(제목·링크·출처·날짜), 수집 커뮤니티(제목·URL·조회수·댓글수·작성시간), 금칙어·설정, 관리자 로그 | 기사·게시글 **본문**, 수집한 **닉네임**, 창작 콘텐츠 본문 |

뉴스·커뮤니티는 "출처(언론사·사이트)"를 반드시 저장한다. 이슈별로 "몇 개 언론이 보도했는지"를 셀 수 있어야 화력(뉴스 신뢰) 계산에 쓴다.

---

## 4. 2주 일정·리스크

- **일정**: 기획 정리 → DB 설계 → API·화면 연동 → 수집·화력 순서. Day 2에 스키마 확정, Day 5–6에 화면 연동, Day 8부터 수집·화력. **범위를 더 넣지 않으면** 2주 MVP 가능.
- **리스크**: 네이버 API 하루 한도, Supabase 월 5만 건 한도, 더쿠·네이트판 사이트 구조 바뀌면 수집 깨짐. 한도 80% 되면 알림 주고, 수집 실패는 로그·알림으로 모니터링한다.

---

## 5. 참고하면 좋은 문서

| 문서 | 보는 목적 |
|------|------------|
| [01_AI기획.md](./01_AI기획.md) | 기능·메뉴·기술 스택·DB 방향 |
| [02_AI기획_판단포인트.md](./02_AI기획_판단포인트.md) | 수치(5건·8건·6시간 등)·화력·세이프티 정책 |
| [07_이슈등록_화력_정렬_규격.md](./07_이슈등록_화력_정렬_규격.md) | 이슈 등록 조건, 화력 계산, 목록 정렬, 댓글 베스트 순서 — **구현·UI 모두 여기 기준** |
| [98_로드맵.md](./98_로드맵.md) | 2주 Day별 일정·담당 |
| [97_API규약.md](./97_API규약.md) | API 주소·요청/응답 규약. 화면 연동 시 참고 |
| 03·04 (법적검토) | 수집·노출 시 지켜야 할 범위 |

---

## 6. 구현 시 체크 (디자이너 확인용)

- [ ] 화면: 모바일 퍼스트, 반응형. 비로그인은 이슈 보기만, 댓글·투표·감정은 로그인 유도.
- [ ] 이슈 목록: 상태(점화·논란중·종결)·최신·화력 순서 또는 sort_score 기준(07 §3).
- [ ] 댓글: 상단 베스트 = 좋아요−싫어요 높은 순(07 §4). 아래 목록은 최신순/좋아요순/싫어요순 선택.
- [ ] 노출: 제목+링크+메타데이터 기반 설명만. 본문·본문 기반 AI 요약 미노출.
- [ ] 관리자: 이슈/타임라인 편집, 수집 확인·이슈 연결, 세이프티봇 검토. 화력은 자동 반영.

---

**작성일**: 2026-02-12  
**재검토일**: 2026-02-13 (디자이너용 정리·용어 설명 추가)  
**버전**: 1.2
