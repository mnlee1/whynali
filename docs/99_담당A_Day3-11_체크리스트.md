# 담당 A 작업 목록 (로드맵 대비 실제 작업 기록)

98_로드맵.md 일차별 담당 A 범위를 기준으로, 실제 구현된 파일·기능만 정리했다.

---

## 로드맵 기준 담당 A 일차별 할 일

| 일차 | 담당 내용 (98_로드맵) |
|------|------------------------|
| Day 3–4 | 이슈·타임라인·이슈 목록(검색/필터) API. 뉴스·커뮤니티 수집·저장 API. |
| Day 5–6 | 홈·카테고리 메뉴·이슈 목록·이슈 상세(화력·타임라인·출처) 퍼블 + API 연동. |
| Day 8~ | 뉴스 수집 Cron·이슈 연결·화력 분석. 관리자 이슈/수집/화력. |

---

## Day 3–4 실제 작업 기록

**이슈·타임라인·이슈 목록(검색/필터) API**
- `app/api/issues/route.ts` – GET(목록: category, status, q, sort, limit, offset / 승인만), POST(이슈 생성, approval_status 대기)
- `app/api/issues/[id]/route.ts` – GET(상세), PATCH(수정)
- `app/api/issues/[id]/timeline/route.ts` – GET(타임라인 시간순), POST(포인트 생성: occurred_at, source_url, stage)
- `app/api/issues/[id]/sources/route.ts` – GET(뉴스·커뮤니티 출처: news_data, community_data by issue_id)
- `types/issue.ts` – Issue, TimelinePoint, NewsData, CommunityData, IssueStatus, IssueCategory, TimelineStage

**뉴스 수집·저장**
- `lib/collectors/naver-news.ts` – 네이버 뉴스 API, 제목·링크·출처·날짜만 `news_data` insert
- `app/api/cron/collect-news/route.ts` – 5개 카테고리 수집 Cron, CRON_SECRET 인증

**커뮤니티 수집·저장**
- `lib/collectors/community.ts` – 더쿠·네이트판 메타데이터 수집, `community_data` insert
- `app/api/cron/collect-community/route.ts` – 수집 Cron, CRON_SECRET 인증

**화력 분석(07 규격)**
- `lib/analysis/heat.ts` – calculateHeatIndex(issueId), recalculateHeatForIssue(issueId), issues.heat_index 업데이트

---

## Day 5–6 실제 작업 기록

**페이지**
- `app/page.tsx` – 홈, 전체 이슈 목록(IssueList)
- `app/entertain/page.tsx`, `app/sports/page.tsx`, `app/politics/page.tsx`, `app/society/page.tsx`, `app/tech/page.tsx` – 카테고리별 이슈 목록(IssueList + category)
- `app/issue/[id]/page.tsx` – 이슈 상세(제목·상태·카테고리·화력·타임라인·출처 + 담당 B 영역)

**컴포넌트**
- `components/issues/IssueList.tsx` – 검색/필터/정렬·목록·페이지네이션
- `components/issues/IssueCard.tsx` – 목록용 카드
- `components/issue/TimelineSection.tsx` – 타임라인 블록
- `components/issue/SourcesSection.tsx` – 출처(뉴스·커뮤니티) 블록

**클라이언트 API**
- `lib/api/issues.ts` – getIssues, getIssue, getTimeline, getSources

---

## Day 8 실제 작업 기록

**이슈-뉴스/커뮤니티 자동 연결**
- `lib/linker/issue-news-linker.ts` – 이슈-뉴스 키워드 매칭, source_links 저장
- `lib/linker/issue-community-linker.ts` – 이슈-커뮤니티 연결
- `app/api/admin/link-news/route.ts` – 수동 뉴스 연결
- `app/api/cron/auto-link/route.ts` – 자동 연결 Cron

**화력 분석 자동화**
- `app/api/cron/recalculate-heat/route.ts` – 전체 이슈 화력 재계산 Cron
- `vercel.json` – Cron 스케줄 반영

**관리자**
- `app/admin/issues/page.tsx` – 이슈 대기 목록·승인/거부·수정·화력 확인
- `app/admin/collections/page.tsx` – 수집 현황(뉴스·커뮤니티)·이슈 연결 상태
- `app/api/admin/issues/route.ts`, `app/api/admin/issues/[id]/approve/route.ts`, `app/api/admin/issues/[id]/reject/route.ts`
- `app/api/admin/collections/route.ts`

**네이버 API 한도**
- `lib/api-usage-tracker.ts` – 호출 추적·80% 알림·주기 완화
- `lib/collectors/naver-news.ts` – 수집 시 incrementApiUsage, isWarningThreshold 반영
- `app/api/admin/api-usage/route.ts` – 사용량 조회

---

## 기타 (일차 미배정 작업)

- `app/api/dev/check-tables/route.ts` – DB 테이블 존재 확인
- `app/api/dev/check-news-data/route.ts` – 뉴스 수집 데이터 확인
- `app/api/dev/test-heat/route.ts` – 화력 계산 검증

---

## 추가 항목

(추가로 작업한 내용이 생기면 아래에 파일·기능 단위로 기록)

-
